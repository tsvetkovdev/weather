(this.webpackJsonptest_task_1=this.webpackJsonptest_task_1||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),r=a(11),i=a.n(r),s=(a(85),a(86),a(14)),o=a(9),l=a.n(o),d=a(12),j=a(68),b=a(20),u=a(15),p=a(136),h=a(142),m=a(141),O=a(6),x=a(140),f=a(57),g=a(69),w=a.n(g),v=a(143),k=a(32),y=(a(40),a(45)),N=a(22),S=Object(p.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},paper:{padding:e.spacing(1),margin:"auto",maxWidth:500,backgroundColor:"cadetblue"},cardBlock:{display:"block"},card:{justifyContent:"space-between",padding:"5px"},cardLine:{display:"flex",alignItems:"center"},button:{fontSize:"10px",backgroundColor:"dimgrey","&:hover":{backgroundColor:"green"}},icon:{paddingLeft:"10px",fontSize:"24px"},buttonDelete:{color:"crimson"},link:{textDecoration:"none"},name:{fontSize:"20px"}}})),C=Object(O.a)((function(e){return{root:{color:e.palette.getContrastText(f.a[500]),backgroundColor:f.a[500],"&:hover":{backgroundColor:f.a[700]}}}}))(x.a);var D=function(e){var t,a=S(),r=Object(c.useState)(e),i=Object(u.a)(r,2),s=i[0],o=i[1],d="69237bcd47ff54fb3b8740cfde008960";function j(){return(j=Object(b.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(t,"&appid=").concat(d,"&units=metric"));case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,o({weather:n});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p,O,f=function(){t=s.weather.id,function(){j.apply(this,arguments)}()};switch(s.weather.weather[0].main){case"Clouds":O=N.b,p="lightgray";break;case"Rain":O=N.c,p="gray";break;case"Snow":O=N.f,p="white";break;case"Clear":O=N.g,p="yellow";break;case"Mist":O=N.e,p="gray"}return Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(m.a,{className:a.paper,children:Object(n.jsxs)(h.a,{container:!0,className:a.cardBlock,children:[Object(n.jsxs)(h.a,{container:!0,className:a.card,children:[Object(n.jsxs)(h.a,{item:!0,className:a.cardLine,children:[Object(n.jsx)(h.a,{item:!0,className:a.name,children:s.weather.name}),Object(n.jsx)(y.a,{className:a.icon,icon:O,color:p})]}),Object(n.jsxs)(h.a,{item:!0,className:a.cardLine,children:[Object(n.jsxs)(h.a,{item:!0,className:a.name,children:[s.weather.main.temp," C\xb0"]}),Object(n.jsx)(v.a,{"aria-label":"delete",className:a.buttonDelete,onClick:function(){return e.onDelete(e.index)},children:Object(n.jsx)(w.a,{})})]})]}),Object(n.jsxs)(h.a,{container:!0,className:a.card,children:[Object(n.jsx)(k.b,{to:"/Details/"+s.weather.id,className:a.link,children:Object(n.jsx)(x.a,{className:a.button,variant:"contained",color:"primary",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0435\u0435"})}),Object(n.jsx)(C,{className:a.button,onClick:function(){return f()},variant:"contained",color:"primary",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u0433\u043e\u0434\u0435"})]})]})})})},z=a(144);a(102);var I=function(){return Object(n.jsxs)("div",{className:"lds-roller",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})},B=a(147),J=a(145),E=a(70),L=Object(p.a)((function(e){return{root:{flexGrow:1,height:"100vh",padding:e.spacing(15)},paper:{padding:e.spacing(2),margin:"auto",backgroundColor:"rgb(230, 238, 255)",borderRadius:"10px"},cardBlock:{display:"block"},card:{justifyContent:"space-around"},form:{width:"100%",justifyContent:"space-between",display:"flex",textAlign:"center",padding:"16px"},title:{width:"100%",margin:"30px",fontSize:"28px"},input:{width:"100%",height:"100%",textAlign:"center"}}}));var _=function(){var e=L(),t=[524901,703448,264374];localStorage.getItem("weather")?t=JSON.parse(localStorage.getItem("weather")):localStorage.setItem("weather",JSON.stringify(t));var a=Object(c.useState)(JSON.parse(localStorage.getItem("weather"))),r=Object(u.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)([]),p=Object(u.a)(o,2),O=p[0],f=p[1],g=Object(c.useState)(""),w=Object(u.a)(g,2),v=w[0],k=w[1],y=Object(c.useState)(!1),N=Object(u.a)(y,2),S=N[0],C=N[1],_=Object(c.useState)(!1),A=Object(u.a)(_,2),G=A[0],H=A[1],M=Object(E.a)(),R=M.register,T=M.handleSubmit,P="69237bcd47ff54fb3b8740cfde008960",W="top",q="center";function U(){return(U=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/group?id=".concat(i,"&appid=").concat(P,"&units=metric"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,f(a.list);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(b.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(v,"&appid=").concat(P,"&units=metric"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=function(){return!O.find((function(e){return e.name===a.name}))},c=function(){f([].concat(Object(d.a)(O),[a])),s([].concat(Object(d.a)(i),[a.id]))},a.weather?n()?c():C(!0):H(!0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Object(n.jsx)(J.a,Object(j.a)({elevation:6,variant:"filled"},e))}Object(c.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){localStorage.setItem("weather",JSON.stringify(i))}),[i]);var Q=function(e){var t=Object(d.a)(O);t.splice(e,1),f(t);var a=Object(d.a)(i);a.splice(e,1),s(a)},V=function(){document.getElementById("outlined-basic").value="",function(){F.apply(this,arguments)}()};return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(m.a,{className:e.paper,children:Object(n.jsxs)(h.a,{container:!0,children:[Object(n.jsx)("span",{className:e.title,children:"\u041f\u043e\u0433\u043e\u0434\u0430 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0430\u0445 \u043c\u0438\u0440\u0430"}),Object(n.jsxs)(h.a,{item:!0,className:e.form,children:[Object(n.jsx)(h.a,{item:!0,sm:9,children:Object(n.jsx)("form",{onSubmit:T(V),children:Object(n.jsx)(z.a,{className:e.input,ref:R,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",variant:"outlined",onChange:function(e){return k(e.target.value)}})})}),Object(n.jsx)(h.a,{item:!0,children:Object(n.jsx)(x.a,{className:e.input,variant:"contained",color:"primary",onClick:function(){return V()},children:"\u0423\u0437\u043d\u0430\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443"})}),Object(n.jsx)(B.a,{anchorOrigin:{vertical:W,horizontal:q},open:S,autoHideDuration:6e3,onClose:function(){C(!1)},children:Object(n.jsx)(K,{onClose:function(){C(!1)},severity:"info",children:"\u0412\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u0433\u043e\u0440\u043e\u0434"})},W+q),Object(n.jsx)(B.a,{anchorOrigin:{vertical:W,horizontal:q},open:G,autoHideDuration:6e3,onClose:function(){H(!1)},children:Object(n.jsx)(K,{onClose:function(){H(!1)},severity:"warning",children:"\u0422\u0430\u043a\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"})},W+q)]}),O?O.map((function(e,t){return Object(n.jsx)(D,{setCities:s,onDelete:Q,index:t,weather:e},e.id)})):Object(n.jsx)(I,{})]})})})},A=Object(p.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},paper:{padding:e.spacing(1),margin:"auto",maxWidth:"600px",backgroundColor:"rgba(200, 200, 200, 0.5)"},cardBlock:{display:"block"},cardParent:{display:"inline-block",padding:"5px",position:"relative"},cardChild:{display:"inline-block",position:"absolute",bottom:"0"},link:{textDecoration:"none"},name:{fontSize:"24px"},icon:{fontSize:"100px",paddingTop:"10px",paddingLeft:"10px"},title:{display:"inline-block",padding:"10px"},wrapper:{padding:"10px"},loader:{textAlign:"center"}}}));var G=function(e){var t=Object(c.useState)(),a=Object(u.a)(t,2),r=a[0],i=a[1],s=Object(c.useState)(N.g),o=Object(u.a)(s,2),d=o[0],j=o[1],p=Object(c.useState)("yellow"),O=Object(u.a)(p,2),f=O[0],g=O[1],w=Object(c.useState)(),v=Object(u.a)(w,2),S=v[0],C=v[1],D=Object(c.useState)(),z=Object(u.a)(D,2),B=z[0],J=z[1],E=e.match.params.name,L="69237bcd47ff54fb3b8740cfde008960",_=A(),G=Object(c.useState)([]),H=Object(u.a)(G,2);function M(){return(M=Object(b.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(E,"&appid=").concat(L,"&units=metric"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,i(a),C(a.wind.deg),R(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}H[0],H[1],Object(c.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[]);var R=function(e){var t=(new Date).getUTCHours()+e.timezone/3600;switch(J(t>23?t-24:t),e.weather[0].main){case"Clouds":j(N.b),g("lightgray");break;case"Rain":j(N.c),g("gray");break;case"Snow":j(N.f),g("white");break;case"Clear":j(t>5&&t<18?N.g:N.d),g(t>5&&t<18?"yellow":"darkblue");break;case"Mist":j(N.e),g("gray")}};return Object(n.jsx)("div",{className:_.root,children:Object(n.jsx)(m.a,{className:_.paper,children:r?Object(n.jsxs)(h.a,{container:!0,className:_.wrapper,children:[Object(n.jsxs)(h.a,{item:!0,className:_.title,sm:6,children:[Object(n.jsxs)(h.a,{item:!0,className:_.name,children:[r.name," "]}),Object(n.jsx)(y.a,{className:_.icon,icon:d,color:f})]}),Object(n.jsx)(h.a,{item:!0,className:_.cardParent,sm:6,children:Object(n.jsxs)(h.a,{container:!0,className:_.cardChild,children:[Object(n.jsxs)(h.a,{item:!0,children:["\u0412\u0440\u0435\u043c\u044f: ",B,":",(new Date).getMinutes()]}),Object(n.jsxs)(h.a,{item:!0,children:["\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",r.main.temp," C\xb0"]}),Object(n.jsxs)(h.a,{item:!0,children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",r.main.feels_like," C\xb0"]}),Object(n.jsxs)(h.a,{item:!0,children:["\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",r.main.humidity," %"]}),Object(n.jsxs)(h.a,{item:!0,children:["\u0412\u0435\u0442\u0435\u0440: ",Object(n.jsx)(y.a,{style:{transform:"rotate(".concat(S,"deg)")},icon:N.a})," ",r.wind.speed,"km/h"]})]})}),Object(n.jsx)(h.a,{item:!0,className:_.button,children:Object(n.jsx)(k.b,{className:_.link,to:"/weather/",children:Object(n.jsx)(x.a,{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"})})})]}):Object(n.jsx)(h.a,{item:!0,className:_.loader,children:Object(n.jsx)(I,{})})})})};var H=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{path:"/Details/:name",component:G}),Object(n.jsx)(s.a,{path:"/weather/",component:_})]})})};i.a.render(Object(n.jsx)(k.a,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))},85:function(e,t,a){},86:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.21576616.chunk.js.map